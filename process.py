# -*- coding: utf-8 -*-

"""
@author: hsowan <hsowan.me@gmail.com>
@date: 2020/2/1

手动处理数据

"""
import os
import django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'resium.settings.prod')
django.setup()

from django.core.cache import cache
from django.db.models import Sum


from django.utils import timezone

from downloader.models import User, Order, DwzRecord, CheckInRecord
from downloader.utils import *


if __name__ == '__main__':
    print(get_csdn_valid_count('download_first=1; WM_TID=ThLNgEIe%2BL9BQVUEUBds1N3VFR2rte2Z; __yadk_uid=ZvWJtgSQwICVv2HlbKLYCmFSaYihKfXw; WM_NI=1I6mTZyL%2FVpWCrIMFFnzD8NkwYBi8f4lTH88%2F2HanZ3VIXmT4Lr1vNR0pjkM4%2B4VnXdiTuk5d5LXI5wXyS7jz45%2Bhf99FstfaIaBgHVWq5n9A4uTkLuI%2BEr969UJiUIOeTY%3D; WM_NIKE=9ca17ae2e6ffcda170e2e6ee89d1219ab897a8f27b91b08fa3d45e929f9a84f26788b8c096c93aac989f82fb2af0fea7c3b92af397fa8ed752bb94e1b7f35d81ae87aec54eaea68cd9cd61b5878e8abb6ef8b49ca9bb34edee8882ed52f18a87b9f060f894bed2f54692f0c08bea47f8f5fcb7ed54a8b79c96ea3fa8eb84b9cc3fb588b7b4b662baecfbcceb6efbe78a94f76ea397afa3e6449689bfd6ed3383ecbbb5ea48b797e5a6f133f6e79babec5f8b91abb5dc37e2a3; uuid_tt_dd=10_19729187150-1566015544503-471487; dc_session_id=10_1566015544503.833950; smidV2=201812152332371d7504c82c0bff6a7529b396d2f3edb500b8a473d5608ab90; Hm_ct_e5ef47b9f471504959267fd614d579cd=5744*1*ken1583096683!6525*1*10_19729187150-1566015544503-471487; CloudGuest=XYXyUF+oCeSMVxvIIRt3JWRiucjgst0wq2bh7Y2MMmKwfzndxnW75PeYjSQpBvjlAjSyo04O+Mx177VGKuGiUzmzGe/9LjYCDSrtw7w2Ey0AO2GKZGH4C5OdVJ5LO2CZ+Y8SGjXO5xFmqUxAHM4dph6mWDP6z3TAqVcLhyxzz61TNazM7jhwY96z5Lwzn5oq; __gads=ID=aa8b3baefd95d94b:T=1580283073:S=ALNI_MashEi2REUrd_hgkQNaUrqD_pW_Vw; _ga=GA1.2.2064109157.1580912221; Hm_lvt_e5ef47b9f471504959267fd614d579cd=1579800939,1580592841,1581723731; UM_distinctid=170974d7fda8e3-05b20d0883a9a8-396c7406-13c680-170974d7fdbaa9; UN=ken1583096683; Hm_ct_6bcd52f51e9b3dce32bec4a3997715ac=5744*1*ken1583096683!1788*1*PC_VC!6525*1*10_19729187150-1566015544503-471487; searchHistoryArray=%255B%2522vip%25E6%2596%2587%25E7%25AB%25A0%2522%252C%2522vip%2522%255D; _gid=GA1.2.584146659.1584777721; Hm_lvt_6bcd52f51e9b3dce32bec4a3997715ac=1584970702,1584970721,1584972711,1585023258; TY_SESSION_ID=3c92dbcc-9874-40ae-9a7a-9b222cd1b2e8; firstDie=1; aliyun_UAToken=122#1nEZVEJsEEaT6EpZMEpyEJponDJE7SNEEP7rEJ+/dlUcFCQLpo7iEDpWnDEeK51HpyGZp9hBuDEEJFOPpC76EJponDJL7gNpEPXZpJRgu4Ep+FQLpoGUEELWn4yP7SQEEyuLpEyBWohPprZCnaRx9kbRIWNo+09Fto0mNNehgzowjb0KrOFD3I4GTb7rN7GsZQd+AW0oVFdAhCWE9C8NiMp1uObaCWvr8CpfGhcnyBvmqM3bD5pMng+O5e23DLVr8oRfJDEERgMdt1+oEEpxkMp1ul5bDRXZ8oL6JNEEyBfDqMfbDDpanSL4ul0EDLVr8CpUJ4bEyF3mqW32E9vxnSpr8PIEDRVbGFF058TNU2xQ6W1IDJeE6qq6GRk2/EvvgPqWeR8/5d5G2TQyHzK7zljauexD7pSK5MWA+RGZpo8sB/W/5wxelwRny1Rntx5SPmLdRuapi/nUDdU2cy+FXJXSe1nFOQ7TABK/1G3Ph1bHVUy1N6clN63jnWCUlDxn25wXpUniDgLt0L863pEoOZqJNaMaNhq+JEj93e6eGqHHsokJFZGJVxeb1cqMhv99QMETH/Ip1FQcuGkRem0sYY670eTVGsXP+io/N4216XuQGVlDjlYLcwsIHnGMJ4Q7nnY9+A9dqm+gZeYx2maF4gbnp5KF9xJF8r8cYtPZsOiu0h2aGK4FI/2YoMe4Uc9WX6qqnCNDbxBHbnNfOx3Dejj6tm9LEpL+TnwfmJKMT1UR7sTpLg4/XOvuTm8kin4m9P401JHLLj0/qAIEeHtTduJuQUMd6WjCwgyIGfrrE4i1/F8yIJBLSbpXx7p9fZpKLQCVX8VyAH4qpMXe3VENTnRXnC4AiyfnkVfQG3nQFCpJaVM47fWhBf4QlvXL56h0rnudneA5lvNYuE4HrPajqJTchFXV9DlvnD7qVyJWVPJSnbufhuRfU3irkSNzUqUmgXkn5PufUtQGU4Yo03jQNA+bFfuFgx1ikt/foFUOrDGuMsWeVNaqRYjIw3XS/vb9C4mhdF7FFaBNPAdQOFYFBuwk9LoxbbgbrgYV1zBXxlUteoaPmwaREm5XDi8kkzZ60qDbOf+QhwapkFTf97OhD947fe3RZ52ep9q1wycItIv6Bu5AN1rKTRCmCN9MWr8uh4BPj2qgIQfa9ppWSzT+LBJPe5ldFKtY961if9WFVmOCtvLHXFHw+dIAbR3oqfyeEm9ndytslyt/1hD3jbpOOrEtU50l1M4M/zS1i7geINi7hdGsHbFgkqdz2jIMfuU//trbFX0ApwjJbIO32Xhr/sUbSoPlw7E8dVHl8lry/0xBnVSvH4t/PWsxPVcO22qXv6peEy0SRUua99FQBAWVQVQuSWR3V8kxo429slZsaiqOuAdW9o+k; c_ref=https%3A//download.csdn.net/download/axu_enfp/10909012; SESSION=0592a9c3-666b-4715-9527-f6905bc8759b; aliyun_webUmidToken=T17C22636F86EE06D3991AC1CAA97F46A20C927E99CACEE847675F9153D; UserName=ken1583096683; UserInfo=d7878a0032704f368bab7d7d921beac9; UserToken=d7878a0032704f368bab7d7d921beac9; UserNick=hsowan; AU=68B; BT=1585027914672; p_uid=U100000; Hm_lpvt_6bcd52f51e9b3dce32bec4a3997715ac=1585027918; announcement=%257B%2522isLogin%2522%253Atrue%252C%2522announcementUrl%2522%253A%2522https%253A%252F%252Fblog.csdn.net%252Fblogdevteam%252Farticle%252Fdetails%252F103603408%2522%252C%2522announcementCount%2522%253A0%252C%2522announcementExpire%2522%253A3600000%257D; dc_tos=q7ondb'))






